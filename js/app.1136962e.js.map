{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?4241","webpack:///./src/App.vue?2fba","webpack:///./src/lib/bus.js","webpack:///./src/lib/getGraph.js","webpack:///./src/lib/createScene.js","webpack:///./src/lib/fileDrop.js","webpack:///./src/lib/loadDroppedGraph.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue?bff9","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","app","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","Appvue_type_template_id_19b1be60_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","href","on","click","$event","preventDefault","runLayout","_v","staticRenderFns","bus","eventify","getGraph","miserables","createScene","canvas","graph","layout","scene","linkUI","nodeUI","rafHandle","drawLinks","layoutSteps","loadGraph","dispose","newGraph","initScene","createLayout","timeStep","step","ui","initUIElements","requestAnimationFrame","frame","stepsCount","makeWGLScene","setClearColor","initialSceneSize","setViewBox","left","top","right","bottom","nodeIdToUI","map_default","a","linkIdToUI","nodes","PointCollection","getNodesCount","forEachNode","node","point","getNodePosition","size","color","g","b","add","set","lines","WireCollection","getLinksCount","forEachLink","link","from","fromId","to","toId","line","appendChild","drawGraph","renderFrame","pos","update","fromPos","toPos","cancelAnimationFrame","off","fileDrop","dropHandler","onDropped","addEventListener","handleDrop","handleDragOver","prevent","handleDragEnd","removeEventListener","e","hasFiles","ev","file","dt","dataTransfer","files","items","kind","getAsFile","classList","remove","loadDroppedGraph","reader","FileReader","tryDot","fileContent","fromDot","console","log","tryJson","fromJson","JSON","parse","readAsText","onload","content","target","fire","onerror","Appvue_type_script_lang_js_","methods","mounted","document","getElementById","body","beforeDestroy","src_Appvue_type_script_lang_js_","component","componentNormalizer","App","Vue","config","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.1136962e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('a',{staticClass:\"btn-command\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.runLayout($event)}}},[_vm._v(\"Make 200 layout steps\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import eventify from 'ngraph.events';\n\nconst bus = eventify({});\n\nexport default bus;","/**\n * Load your graph here.\n */\n// https://github.com/anvaka/miserables\nimport miserables from 'miserables';\n\n// Other loaders: \n// https://github.com/anvaka/ngraph.generators\n// import generate from 'ngraph.generators';\n\n// https://github.com/anvaka/ngraph.graph\n// import createGraph from 'ngraph.graph';\n\n// https://github.com/anvaka/ngraph.fromjson\n// import fromjson from 'ngraph.fromjson'\n\n// https://github.com/anvaka/ngraph.fromdot\n// import fromdot from 'ngraph.fromdot'\n\nexport default function getGraph() {\n  return miserables.create();\n  // return generate.wattsStrogatz(20, 5, 0.4);\n}\n\n","import { scene as makeWGLScene, PointCollection, WireCollection} from 'w-gl';\nimport bus from './bus';\nimport getGraph from './getGraph';\nimport createLayout from 'ngraph.forcelayout';\n\nexport default function createScene(canvas) {\n  let drawLinks = true;\n\n  // Since graph can be loaded dynamically, we have these uninitialized\n  // and captured into closure. loadGraph will do the initialization\n  let graph, layout;\n  let scene, linkUI, nodeUI;\n\n  let layoutSteps = 0; // how many frames shall we run layout?\n  let rafHandle;\n\n  loadGraph(getGraph());\n  bus.on('load-graph', loadGraph);\n\n  return {\n    dispose,\n    runLayout,\n  };\n\n  function loadGraph(newGraph) {\n    if (scene) {\n      scene.dispose();\n      scene = null\n    }\n    scene = initScene();\n    graph = newGraph\n\n    layout = createLayout(graph, {\n      timeStep: 5 \n    });\n\n    layout.step();\n    let ui = initUIElements();\n    linkUI = ui.linkUI;\n    nodeUI = ui.nodeUI;\n\n    rafHandle = requestAnimationFrame(frame);\n  }\n\n  function runLayout(stepsCount) {\n    layoutSteps += stepsCount;\n  }\n\n  function initScene() {\n    let scene = makeWGLScene(canvas);\n    scene.setClearColor(12/255, 41/255, 82/255, 1)\n    let initialSceneSize = 100;\n    scene.setViewBox({\n      left:  -initialSceneSize,\n      top:   -initialSceneSize,\n      right:  initialSceneSize,\n      bottom: initialSceneSize,\n    });\n    return scene;\n  }\n  \n  function initUIElements() {\n    let nodeIdToUI = new Map();\n    let linkIdToUI = new Map();\n    let nodes = new PointCollection(graph.getNodesCount());\n    graph.forEachNode(node => {\n      var point = layout.getNodePosition(node.id);\n      let size = 10;\n      if (node.data && node.data.size) {\n        size = node.data.size;\n      } else {\n        if (!node.data) node.data = {};\n        node.data.size = size;\n      }\n      point.size = size\n      point.color = {\n        r: 114/255,\n        g: 248/255,\n        b: 252/255,\n      }\n      var ui = nodes.add(point, node.id);\n      nodeIdToUI.set(node.id, ui);\n    });\n\n    let lines = new WireCollection(graph.getLinksCount());\n    lines.color.r = 6/255;\n    lines.color.g = 28/255;\n    lines.color.b = 70/255;\n    lines.color.a = 0.2;\n\n    graph.forEachLink(link => {\n      var from = layout.getNodePosition(link.fromId);\n      var to = layout.getNodePosition(link.toId);\n      var line = { from, to };\n      var ui = lines.add(line);\n      linkIdToUI.set(link.id, ui);\n    });\n\n    scene.appendChild(lines);\n    scene.appendChild(nodes);\n\n    return {nodeUI: nodeIdToUI, linkUI: linkIdToUI};\n  }\n\n  function frame() {\n    rafHandle = requestAnimationFrame(frame);\n\n    if (layoutSteps > 0) {\n      layoutSteps -= 1;\n      layout.step();\n    }\n    drawGraph();\n    scene.renderFrame();\n  }\n\n  function drawGraph() {\n    graph.forEachNode(node => {\n      var pos = layout.getNodePosition(node.id);\n      nodeUI.get(node.id).update(pos);\n    });\n\n    if (drawLinks) {\n      graph.forEachLink(link => {\n        var fromPos = layout.getNodePosition(link.fromId);\n        var toPos = layout.getNodePosition(link.toId);\n        linkUI.get(link.id).update(fromPos, toPos);\n      })\n    }\n  }\n\n  function dispose() {\n    cancelAnimationFrame(rafHandle);\n\n    bus.off('load-graph', loadGraph);\n  }\n}","/**\n * Handles dropped files into the browser.\n */\nexport default function fileDrop(dropHandler, onDropped) {\n  dropHandler.addEventListener('drop', handleDrop, true);\n  dropHandler.addEventListener('dragover', handleDragOver);\n  dropHandler.addEventListener('dragenter', prevent);\n  dropHandler.addEventListener('dragleave', handleDragEnd)\n  dropHandler.addEventListener('dragend', handleDragEnd);\n\n  return {\n    dispose\n  }\n\n  function dispose() {\n    dropHandler.removeEventListener('drop', handleDrop);\n    dropHandler.removeEventListener('dragover', handleDragOver);\n    dropHandler.removeEventListener('dragenter', prevent);\n    dropHandler.removeEventListener('dragleave', handleDragEnd)\n    dropHandler.removeEventListener('dragend', handleDragEnd);\n  }\n\n  function prevent(e) {\n    if (!hasFiles(e)) return;\n\n    e.preventDefault();\n  }\n\n  function handleDrop(ev) {\n    handleDragEnd();\n    ev.preventDefault();\n    // If dropped items aren't files, reject them\n    var dt = ev.dataTransfer;\n    var files = []\n    var i, file;\n    if (dt.items) {\n      // Use DataTransferItemList interface to access the file(s)\n      for (i = 0; i < dt.items.length; i++) {\n        if (dt.items[i].kind == \"file\") {\n          file = dt.items[i].getAsFile();\n          files.push(file);\n        }\n      }\n    } else {\n      // Use DataTransfer interface to access the file(s)\n      for (i = 0; i < dt.files.length; i++) {\n        file = dt.files[i];\n        files.push(file);\n      } \n    }\n\n    onDropped(files);\n  }\n\n\n  function handleDragOver(e) {\n    if (!hasFiles(e)) return;\n\n    e.preventDefault();\n    dropHandler.classList.add('drag-over');\n  }\n\n  function hasFiles(e) {\n    if (!e.dataTransfer) return false;\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) return true;\n    var items = e.dataTransfer.items;\n    if (!items) return false;\n    for (var i = 0; i < items.length; ++i) {\n      if (items[i].kind === 'file') return true;\n    }\n\n    return false;\n  }\n\n  function handleDragEnd() {\n    dropHandler.classList.remove('drag-over');\n  }\n}","import fromDot from 'ngraph.fromdot';\nimport fromJson from 'ngraph.fromjson';\nimport bus from './bus.js';\n\n/**\n * Loads graph from a dropped file\n */\nexport default function loadDroppedGraph(files) {\n  let file = files[0];\n\n  var reader = new FileReader();\n  reader.readAsText(file, \"UTF-8\");\n  reader.onload = e => {\n    let content = e.target.result;\n    let graph = tryDot(content) || tryJson(content);\n    if (graph) bus.fire('load-graph', graph);\n  }\n  reader.onerror = (e) => {\n    //eslint-disable-next-line\n    console.log('error loading dot file: ', e)\n  };\n\n  function tryDot(fileContent) {\n    try {\n      return fromDot(fileContent);\n    } catch (e) {\n      //eslint-disable-next-line\n      console.log('error loading dot file: ', e)\n    }\n  }\n  function tryJson(fileContent) {\n    try {\n      return fromJson(JSON.parse(fileContent));\n    } catch (e) {\n      //eslint-disable-next-line\n      console.log('error loading JSON: ', e)\n    }\n  }\n}","<template>\n  <div id=\"app\">\n    <a href=\"#\" @click.prevent='runLayout' class='btn-command'>Make 200 layout steps</a>\n  </div>\n</template>\n\n<script>\nimport createScene from './lib/createScene';\nimport fileDrop from './lib/fileDrop.js';\nimport loadDroppedGraph from './lib/loadDroppedGraph.js';\n\nexport default {\n  name: 'app',\n  methods: {\n    runLayout() {\n      this.scene.runLayout(200);\n    },\n    onDropped(files) {\n      loadDroppedGraph(files);\n    },\n  },\n  mounted() {\n    const canvas = document.getElementById('cnv');\n    this.scene = createScene(canvas);\n    this.fileDrop = fileDrop(document.body, this.onDropped);\n  },\n  beforeDestroy() {\n    if (this.scene) {\n      this.scene.dispose();\n    }\n    this.fileDrop.dispose();\n  }\n}\n</script>\n\n<style>\n#app {\n  position: absolute;\n}\n\n.row {\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n}\n\n.row .label {\n  flex: 1;\n}\n.row .value {\n  flex: 1;\n}\n.row select {\n  width: 100%;\n}\n.btn-command {\n  display: block;\n  padding: 4px;\n  margin-top: 10px;\n  border: 1px solid;\n}\n\na {\n  color: rgb(244, 244, 244);\n  text-decoration: none;\n  text-align: center;\n  padding: 0 4px\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=19b1be60&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}